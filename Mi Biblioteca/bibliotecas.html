<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title> Mi Biblioteca Personal</title>
    <link rel="stylesheet" href="/css/styles.css">
    <link rel="stylesheet" href="/css/bibliotecas.css">
    <script src="https://kit.fontawesome.com/6a24b78ccb.js" crossorigin="anonymous"></script>
</head>
<body>
    <header id="header">  
        <div class="container__header">
            <div class="logo">
                <img src="/images/golden-lc.png" alt="">
            </div>
            <div class="container__nav">
                <nav class="nav-bar" id="nav">
                    <ul>
                        <li><a href="index.html">Home</a></li>
                        <li><a href="bibliotecas.html" class="active">Bibliotecas</a></li>
                        <li><a href="favoritos.html"> Favoritos</a></li>
                        <li><a href="sagas.html"> Sagas</a></li>
                        <li><a href="autores.html"> Autores</a></li>
                        <li><a href="asiazone.html"> Asia-Zone</a></li>
                        <!--<li><a href="registro.html">Registro/Iniciar Sesión</a></li>-->
                        <div class="user-icon">
                            <a href="">
                                <img src="/images/user_gris.png" alt="Icono de Usuario">
                            </a>
                        </div>
                    </ul>
                </nav>  
                <div class="btn__menu" id="btn_menu"><i class="fas fa-bars"></i></div>
            </div>
        </div>
    </header>

    <div class="container__all" id="container_all">

        <div class="cover">

            <!--INICIO WAVE HEADER-->

            <div class="bg_color"></div>
                <div class="wave w1"></div>
                <div class="wave w2"></div>
            


            <!--FINAL WAVE HEADER-->

            <div class="container__cover">
                
                <div class="container__info">
                    <h1>MI BIBLIOTECA</h1>
                    <h2>PERSONAL</h2>
                    <p>Leer es soñar con los ojos abiertos sin pasaje, es vivir otras vidas, otros tiempos; es descubrir que tenemos alas y volar con la imaginación.
                    Es por eso que para viajar lejos, no hay mejor nave que leer para volar con la imaginación.
                    </p>
                    <input type="button" value="Empezar a volar">
                </div>

                <div class="container__vector">
                    <img src="images/undraw_reading_time_re_phf7.svg" alt="">
                </div>
                
            </div>

        </div>

    
        <div class="container__all" id="container_all">
            <div class="body__Page">
                <div class="container__main">
                    <div class="container__search">
                        <input type="text" id="search" placeholder="Buscar libros...">
                        <button id="searchBtn"><i class="fas fa-search"></i></button>
                    </div>
    
                    <div class="container__filters">
                        <button class="filter-btn" data-filter="all">Todos</button>
                        <button class="filter-btn" data-filter="reading">Leyendo</button>
                        <button class="filter-btn" data-filter="pending">Pendientes</button>
                        <button class="filter-btn" data-filter="finished">Terminados</button>
                        <button class="filter-btn" data-filter="abandoned">Abandonados</button>
                        <button class="filter-btn" data-filter="favorites">Favoritos</button>
                    </div>
    
                    <div class="container__books">
                        <button id="addBookBtn" class="add-book-btn">Añadir Libro</button>
                        <table class="books__table" id="booksTable">
                            <thead>
                                <tr>
                                    <th>Nombre del Autor</th>
                                    <th>Nombre de la Novela</th>
                                    <th>Estado</th>
                                    <th>Puntuación</th>
                                    <th>Citas o Frases</th>
                                    <th>Acciones</th>
                                </tr>
                            </thead>
                            <tbody id="bookTableBody">
                                <!-- Filas de la tabla generadas dinámicamente -->
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
    







    <!-- COMIENZA  -->

        <div class="body__Page">
            <div class="container__article">
                <div class="box__article"></div>
                <div class="box__article"></div>
                <div class="box__article"></div>
                <div class="box__article"></div>
                <div class="box__article"></div>
                <div class="box__article"></div>
                <div class="box__article"></div>
                <div class="box__article"></div>
            </div>

                <!-- COMIENZA EL FOOTER -->

        <Footer>
            <div class="container__footer">

                <div class="box__footer">
                    <div class="logo">
                        <img src="images/golden-liz carolina.png" alt="">
                    </div>
                    <div class="terms">
                        <p>Lorem, ipsum dolor sit amet consectetur adipisicing elit. Harum reiciendis et quasi aut facere vitae vero. Inventore, minus ab voluptate modi repellat, pariatur tempora quisquam, debitis facilis explicabo voluptatem. </p>
                        
                    </div>
                </div>

                <div class="box__footer">
                    <h2>Menu</h2>
                        <a href="#"><i class="fa-solid fa-chevron-right"></i> Home</a>
                        <a href="#"><i class="fa-solid fa-chevron-right"></i> Autores</a>
                        <a href="#"><i class="fa-solid fa-chevron-right"></i> Favoritos</a>
                        <a href="#"><i class="fa-solid fa-chevron-right"></i> Leyendo</a>
                        <a href="#"><i class="fa-solid fa-chevron-right"></i> Pendientes</a>
                        <a href="#"><i class="fa-solid fa-chevron-right"></i> Terminados</a>
                </div>

                <div class="box__footer">
                    <h2>Categorias</h2><a href="#"><i class="fa-solid fa-chevron-right"></i> Romanaces/Ficción</a>
                        <a href="#"><i class="fa-solid fa-chevron-right"></i> Reencarnaciones</a>
                        <a href="#"><i class="fa-solid fa-chevron-right"></i> Novelas Web/Ligera</a>
                        <a href="#"><i class="fa-solid fa-chevron-right"></i> Mangas/Manhua/Manhwa</a>
                        <a href="#"><i class="fa-solid fa-chevron-right"></i> Fanfiction</a>
                        <a href="#"><i class="fa-solid fa-chevron-right"></i> Wattpad</a> 
                </div>

                <div class="box__footer">
                    <h2>Contacts</h2>
                        <a href="#"><i class="fa-solid fa-location-dot"></i> CABA, Argentina</a>
                        <a href="#"><i class="fa-solid fa-mobile-screen-button"></i> +1529-000-0000</a>
                        <a href="#"><i class="fa-regular fa-envelope"></i> mibibliotecapersonal@gmail.com</a>
                        <a href="#"><i class="fa-solid fa-globe"></i> www.mibibliotecapers.com.ar</a>
                    </ul>  
                </div>
            </div>
                <div class="footer-social social-icon">
                        <a href="#"><i class="fa-brands fa-facebook-f"></i></a>
                        <a href="#"><i class="fa-brands fa-instagram"></i></a>
                        <a href="#"><i class="fa-brands fa-linkedin-in"></i></a>
                        <a href="#"><i class="fa-brands fa-whatsapp"></i></a>
                </div>
                    <div class="box__copyrigh">
                    <hr>
                    <p>Copyright &copy;2024: Designed by <span class="designer"><b></b>LC</span></p>
                </div>
            </div>
            
        </Footer>

    </div>

    <script src="js/scripts.js"></script>
    <script>
       // JavaScript para la interacción de la tabla y modal
       document.addEventListener('DOMContentLoaded', function() {
            const booksTableBody = document.querySelector('#booksTable tbody');
            const bookModal = document.getElementById('bookModal');
            const quoteModal = document.getElementById('quoteModal');
            const closeBtns = document.querySelectorAll('.close');
            const saveBookBtn = document.getElementById('saveBookBtn');
            const saveQuoteBtn = document.getElementById('saveQuoteBtn');
            const addBookBtn = document.getElementById('addBookBtn');
            let activeRow = null;
            let isEditing = false;

            // Función para cerrar los modales
            function closeModal() {
                bookModal.style.display = 'none';
                quoteModal.style.display = 'none';
                isEditing = false;
                document.getElementById('authorName').value = '';
                document.getElementById('bookTitle').value = '';
                document.getElementById('bookStatus').value = 'reading';
                document.getElementById('bookRating').value = 5;
                document.getElementById('quoteText').value = '';
            }

            // Abrir el modal para añadir libro
            addBookBtn.addEventListener('click', function() {
                document.getElementById('modalTitle').textContent = 'Añadir Libro';
                bookModal.style.display = 'block';
            });

            // Guardar el libro
            saveBookBtn.addEventListener('click', function() {
                const authorName = document.getElementById('authorName').value;
                const bookTitle = document.getElementById('bookTitle').value;
                const bookStatus = document.getElementById('bookStatus').value;
                const bookRating = document.getElementById('bookRating').value;

                if (isEditing && activeRow) {
                    activeRow.querySelector('.author').textContent = authorName;
                    activeRow.querySelector('.title').textContent = bookTitle;
                    activeRow.querySelector('.status').value = bookStatus;
                    activeRow.querySelector('.rating').value = bookRating;
                } else {
                    const newRow = document.createElement('tr');
                    newRow.innerHTML = `
                        <td class="author">${authorName}</td>
                        <td class="title">${bookTitle}</td>
                        <td>
                            <select class="status-select status">
                                <option value="reading" ${bookStatus === 'reading' ? 'selected' : ''}>Leyendo</option>
                                <option value="pending" ${bookStatus === 'pending' ? 'selected' : ''}>Pendiente</option>
                                <option value="finished" ${bookStatus === 'finished' ? 'selected' : ''}>Completado</option>
                                <option value="abandoned" ${bookStatus === 'abandoned' ? 'selected' : ''}>Abandonado</option>
                            </select>
                        </td>
                        <td>
                            <input type="number" class="rating-input rating" min="1" max="10" value="${bookRating}">
                        </td>
                        <td>
                            <button class="quote-btn">Añadir Cita</button>
                        </td>
                        <td>
                            <button class="edit-btn">Editar</button>
                            <button class="delete-btn">Eliminar</button>
                        </td>
                    `;
                    booksTableBody.appendChild(newRow);
                }

                closeModal();
            });

            // Añadir cita o frase
            booksTableBody.addEventListener('click', function(event) {
                if (event.target.classList.contains('quote-btn')) {
                    activeRow = event.target.closest('tr');
                    quoteModal.style.display = 'block';
                }
            });

            // Guardar cita o frase
            saveQuoteBtn.addEventListener('click', function() {
                const quoteText = document.getElementById('quoteText').value;
                if (activeRow) {
                    activeRow.querySelector('.quote-btn').textContent = 'Ver Citas';
                    activeRow.dataset.quote = quoteText;
                }
                closeModal();
            });

            // Editar libro
            booksTableBody.addEventListener('click', function(event) {
                if (event.target.classList.contains('edit-btn')) {
                    activeRow = event.target.closest('tr');
                    isEditing = true;
                    document.getElementById('modalTitle').textContent = 'Editar Libro';
                    document.getElementById('authorName').value = activeRow.querySelector('.author').textContent;
                    document.getElementById('bookTitle').value = activeRow.querySelector('.title').textContent;
                    document.getElementById('bookStatus').value = activeRow.querySelector('.status').value;
                    document.getElementById('bookRating').value = activeRow.querySelector('.rating').value;
                    bookModal.style.display = 'block';
                }
            });

            // Eliminar libro
            booksTableBody.addEventListener('click', function(event) {
                if (event.target.classList.contains('delete-btn')) {
                    const rowToDelete = event.target.closest('tr');
                    booksTableBody.removeChild(rowToDelete);
                }
            });

            // Cerrar modal al hacer clic en el botón de cerrar
            closeBtns.forEach(btn => {
                btn.addEventListener('click', closeModal);
            });

            // Cerrar modal al hacer clic fuera del contenido del modal
            window.addEventListener('click', function(event) {
                if (event.target === bookModal || event.target === quoteModal) {
                    closeModal();
                }
            });
        });
    </script>
</body>
</html>
